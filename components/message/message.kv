#:import Clock kivy.clock.Clock

<Message>
    elevation: 0

    orientation: "vertical"
    size_hint: 1, None
    height: 60

    MDBoxLayout:
        orientation: "vertical"
        padding: [15,5,10,7]

        MDBoxLayout:

            MDLabel:
                text: root.title
                bold: True
            MDLabel:
                text: root.date
                theme_text_color: "Custom"
                text_color: 0,0,0,.5
                halign: "right"
                font_size: 13

        MDBoxLayout:

            MDLabel:
                text: root.abstract
                theme_text_color: "Custom"
                text_color: 0,0,0,.5

    MDSeparator:


<MessageOpener>
    md_bg_color: 1,1,1,1
    orientation: "vertical"

    MDSeparator:

    MDBoxLayout:
        adaptive_height: True

        MDBoxLayout:
            adaptive_height: True
            orientation: "vertical"
            padding: [15, 7, 10, 12]
            spacing: 8

            MDLabel:
                text: root.title
                font_size: 20
                adaptive_height: True

            MDLabel:
                text: f"{root.date} 2020   Ã    {root.hour}"
                font_size: 15
                theme_text_color: "Custom"
                text_color: 0,0,0,.5
                adaptive_height: True

        MDBoxLayout:
#            md_bg_color: 1,1,0,.3
            adaptive_width: True
            MDIconButton:
                icon: "backburger"
                user_font_size: 30
                pos_hint: {"center_y": .55}
                on_release: Clock.schedule_once(root.go_back, .25)

    MDSeparator:

    MDBoxLayout:
        size_hint: 1, None
        height: 40
        padding: [15,0]

        MDLabel:
            text: f"De : [b][size=20]{root.sender}[/size][/b]"
            font_size: 17
            markup: True
            halign: "right"
            adaptive_height: True
            pos_hint: {"center_y": .55}
#            md_bg_color: 1,1,0,.3

    MDSeparator:

    MDFloatLayout:
#        md_bg_color: 1,1,0,.3
        MDBoxLayout:
            adaptive_height: True
#            md_bg_color: 1,1,0,.3
            orientation: "vertical"
            padding: [0, 15]
            spacing: 15
            id: receiver
            pos_hint: {"center_x": .5, "top": 1}

            MDLabel:
                text: root.body
                adaptive_height: True
                halign: "center"
                pos_hint: {"center_x": .5, "top": 1}

            MDSeparator:
                size_hint: .9, None
                height: 1
                pos_hint: {"center_x": .5}
